package executors

import (
	"testing"
)
//TODO Uncomment and run locally to test, Need to have integration tests
func TestKafkaVal_DoExecute(t *testing.T) {
	//type fields struct {
	//	ConnectionURL string
	//	TopicName     string
	//	ContentType   string
	//	ReplyTo       string
	//}
	//type args struct {
	//	requestBody interface{}
	//}
	//tests := []struct {
	//	name    string
	//	fields  fields
	//	args    args
	//	want    interface{}
	//	wantErr bool
	//}{
	//	{
	//		name: "should return error if connection fails",
	//		fields: fields{
	//			ConnectionURL: "54.70.48.149:19092/",
	//			TopicName:     "topic_test",
	//			ContentType:   "text/plain",
	//		},
	//		args: args{
	//			requestBody: "message body",
	//		},
	//		want:    nil,
	//		wantErr: true,
	//	},
	//	{
	//		name: "should publish message to kafka topic",
	//		fields: fields{
	//			ConnectionURL: "54.70.48.149:9092",
	//			TopicName:     config.ENV.KafkaTopicName,
	//			ContentType:   "text/plain",
	//		},
	//		args: args{
	//			requestBody: "message body",
	//		},
	//		want:    nil,
	//		wantErr: false,
	//	},
	//}
	//for _, tt := range tests {
	//	t.Run(tt.name, func(t *testing.T) {
	//		val := KafkaVal{
	//			ConnectionURL: tt.fields.ConnectionURL,
	//			TopicName:     tt.fields.TopicName,
	//			ContentType:   tt.fields.ContentType,
	//		}
	//		got, err := val.DoExecute(tt.args.requestBody, "")
	//		if (err != nil) != tt.wantErr {
	//			t.Errorf("DoExecute() error = %v, wantErr %v", err, tt.wantErr)
	//			return
	//		}
	//		if got != nil {
	//			t.Errorf("DoExecute() got = %v, want %v", got, tt.want)
	//		}
	//	})
	//}
}
